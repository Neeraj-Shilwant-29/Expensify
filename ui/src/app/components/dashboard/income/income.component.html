<div class="income-container">
  <!-- Summary Cards -->
  <div class="summary-cards">
    <div class="card">
      <div class="card-content">
        <h3>Total Income</h3>
        <p class="amount">${{totalIncome | number:'1.2-2'}}</p>
      </div>
    </div>
    <div class="card">
      <div class="card-content">
        <h3>Total Transactions</h3>
        <p class="amount">{{totalTransactions}}</p>
      </div>
    </div>
  </div>

  <!-- Filters and Add Button -->
  <div class="filters-container">
    <div class="filters">
      <mat-form-field appearance="outline">
        <mat-label>Search by name</mat-label>
        <input matInput [(ngModel)]="nameFilter" (ngModelChange)="onSearchChange()" placeholder="Search...">
      </mat-form-field>

      <mat-form-field appearance="outline">
        <mat-label>Category</mat-label>
        <mat-select 
          [(ngModel)]="categoryFilter" 
          (selectionChange)="onCategorySelectChange($event)"
          name="categoryFilter">
          <mat-option *ngFor="let category of categories; trackBy: trackByCategory" [value]="category">
            {{category}}
          </mat-option>
        </mat-select>
      </mat-form-field>

      <mat-form-field appearance="outline">
        <mat-label>Time Period</mat-label>
        <mat-select
          [(ngModel)]="timeFilter"
          (selectionChange)="onTimePeriodChange($event)"
          name="timePeriod">
          <mat-option *ngFor="let filter of timeFilters" [value]="filter.value">
            {{filter.label}}
          </mat-option>
        </mat-select>
      </mat-form-field>
    </div>

    <button mat-raised-button color="primary" (click)="openAddIncomeDialog()">
      Add Income
    </button>
  </div>

  <!-- Income Table -->
  <div class="table-container">
    <ag-grid-angular
      class="ag-theme-alpine"
      [rowData]="rowData"
      [columnDefs]="columnDefs"
      [defaultColDef]="defaultColDef"
      [animateRows]="false"
      [rowSelection]="'single'"
      (gridReady)="onGridReady($event)"
      style="height: 400px; width: 100%;">
    </ag-grid-angular>
  </div>
</div>
